<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwill.mapper.SearchMapper">

<!-- 분야별 리스트 1차 -->
<select id="list_1" resultType="com.itwill.domain.Search">

select 
b.book_no,b.book_title,b.book_author,b.book_publisher,b.book_image,b.book_image_src,b.category_no,bc.category_name,bc.cateno
from book b 
inner join  book_category bc 
on b.category_no=bc.category_no  
where b.category_no =#{category_no}
or bc.cateno=#{cateno}

</select>

<!-- 분야별 리스트 2차 -->
<select id="list_2" resultType="com.itwill.domain.Search">

select 
b.book_no,b.book_title,b.book_author,b.book_publisher,b.book_image,b.book_image_src,b.category_no,bc.category_name,bc.cateno
from book b 
inner join  book_category bc 
on b.category_no=bc.category_no  
where b.category_no =#{category_no}

</select>


<select id="category" resultType="com.itwill.domain.Search">

select level, category_name, category_no, cateno from book_category
    start with cateno is null connect by prior category_no = cateno; 

</select>



<!-- 01. 상품 전체 목록 
 SELECT  
        	b.book_no,b.book_title,b.book_author,b.book_publisher,b.book_image,b.book_image_src,b.category_no,bc.category_name
        from book b 
		left join  book_category bc 
		on b.category_no=bc.category_no
        ORDER BY b.book_no
    <select id="listBook" resultType="com.itwill.domain.Search">
        SELECT  
        	b.book_no,b.book_title,b.book_author,b.book_publisher,b.book_image,b.book_image_src,b.category_no,bc.category_name
        from  book b
        left join  book_category bc 
		on b.category_no=bc.category_no
        ORDER BY book_no
    </select-->
    
    
</mapper>